# Лабораторная работа. Настройка IPv6-адресов на сетевых устройствах
<img width="780" height="506" alt="image" src="https://github.com/user-attachments/assets/7e5168f7-129f-4666-93da-7186cf11a71e" />

## Задачи

#### Часть 1. Настройка топологии и конфигурация основных параметров маршрутизатора и коммутатора
#### Часть 2. Ручная настройка IPv6-адресов
#### Часть 3. Проверка сквозного соединения

## Инструкции

### Часть 1. Настройка топологии и конфигурация основных параметров маршрутизатора и коммутатора
После подключения сети, инициализации и перезагрузки маршрутизатора и коммутатора выполните следующие действия:

#### Шаг 1. Настройте маршрутизатор.
Назначьте имя хоста и настройте основные параметры устройства.

Настройка маршрутизатора:

<img width="431" height="566" alt="image" src="https://github.com/user-attachments/assets/b5657f96-6be3-4ff8-b922-ab9a47a49254" />

#### Шаг 2. Настройте коммутатор.
Назначьте имя хоста и настройте основные параметры устройства.

Настройка коммутатора:

<img width="434" height="510" alt="image" src="https://github.com/user-attachments/assets/77816312-9577-43dd-8bb8-f37fc56d8dbf" />

### Часть 2. Ручная настройка IPv6-адресов

#### Шаг 1. Назначьте IPv6-адреса интерфейсам Ethernet на R1.
a.	Назначьте глобальные индивидуальные IPv6-адреса, указанные в таблице адресации обоим интерфейсам Ethernet на R1.
Откройте окно конфигурации

b.	Введите команду show ipv6 interface brief, чтобы проверить, назначен ли каждому интерфейсу корректный индивидуальный IPv6-адрес.
Примечание. Отображаемый локальный адрес канала основан на адресации EUI-64, которая автоматически использует MAC-адрес интерфейса для создания 128-битного локального IPv6-адреса канала.

c.	Чтобы обеспечить соответствие локальных адресов канала индивидуальному адресу, вручную введите локальные адреса канала на каждом интерфейсе Ethernet на R1.
Примечание. Каждый интерфейс маршрутизатора относится к отдельной сети. Пакеты с локальным адресом канала никогда не выходят за пределы локальной сети, а значит, для обоих интерфейсов можно указывать один и тот же локальный адрес канала.

d.	Используйте выбранную команду, чтобы убедиться, что локальный адрес связи изменен на fe80::1.  
Закройте окно настройки.

Решение:
```
R1(config)# interface g0/0/0
R1(config-if)# ipv6 address 2001:db8:acad:a::1/64
R1(config-if)# ipv6 address fe80::1 link-local
R1(config-if)# no shutdown
R1(config-if)# exit
```
```
R1(config)# interface g0/0/1
R1(config-if)# ipv6 address 2001:db8:acad:1::1/64
R1(config-if)# ipv6 address fe80::1 link-local
R1(config-if)# no shutdown
R1(config-if)# exit
```

<img width="389" height="128" alt="image" src="https://github.com/user-attachments/assets/d68ab82c-4598-4716-be95-c0a47a61d9c8" />


Вопрос:

Какие группы многоадресной рассылки назначены интерфейсу G0/0?

Интерфейс G0/0/0 принадлежит группам: FF02::1, FF02::1:FF00:1

#### Шаг 2. Активируйте IPv6-маршрутизацию на R1.

a.	В командной строке на PC-B введите команду ipconfig, чтобы получить данные IPv6-адреса, назначенного интерфейсу ПК.
Вопрос:
Назначен ли индивидуальный IPv6-адрес сетевой интерфейсной карте (NIC) на PC-B?

Ответ:

```
Нет, пока не назначен - у ПК только link-local адрес, без глобального префикса.
```

b.	Активируйте IPv6-маршрутизацию на R1 с помощью команды IPv6 unicast-routing.
Примечание. Это позволит компьютерам получать IP-адреса и данные шлюза по умолчанию с помощью функции SLAAC (Stateless Address Autoconfiguration (Автоконфигурация без сохранения состояния адреса)).

```
Интерфейс G0/0/0 теперь также состоит в группе всех маршрутизаторов: FF02::2
```

c.	Теперь, когда R1 входит в группу многоадресной рассылки всех маршрутизаторов, еще раз введите команду ipconfig на PC-B. Проверьте данные IPv6-адреса.

<img width="499" height="157" alt="image" src="https://github.com/user-attachments/assets/0fe07721-bbcb-4b9d-b8d0-8cab10d1a1e5" />

Вопрос:
Почему PC-B получил глобальный префикс маршрутизации и идентификатор подсети, которые вы настроили на R1?

Потому что после включения ipv6 unicast-routing, роутер начал рассылать свой префикс 2001:DB8:ACAD:A::/64 всем хостам. PC-B сгенерировал себе адрес используя этот префикс и свой MAC адрес.

#### Шаг 3. Назначьте IPv6-адреса интерфейсу управления (SVI) на S1.

a.	Назначьте адрес IPv6 для S1. Также назначьте этому интерфейсу локальный адрес канала fe80::b.

```
Включил поддержку IPv6:
```

<img width="627" height="265" alt="image" src="https://github.com/user-attachments/assets/5d6afde2-c2f0-441d-a623-256bc1e4cc71" />

```
Назначение IPv6:
```

<img width="339" height="72" alt="image" src="https://github.com/user-attachments/assets/4d446026-c456-49e7-9d88-5b3780538a6f" />

b.	Проверьте правильность назначения IPv6-адресов интерфейсу управления с помощью команды show ipv6 interface vlan 1.

<img width="419" height="237" alt="image" src="https://github.com/user-attachments/assets/31125e0d-7a90-4531-9187-fd4b8f78c14e" />

#### Шаг 4. Назначьте компьютерам статические IPv6-адреса.

a.	Откройте окно Свойства Ethernet для каждого ПК и назначьте адресацию IPv6.
Убедитесь, что оба компьютера имеют правильную информацию адреса IPv6

<img width="663" height="160" alt="image" src="https://github.com/user-attachments/assets/d19b9832-1b86-48f8-a687-348c87a403a8" />

<img width="667" height="158" alt="image" src="https://github.com/user-attachments/assets/853ccbdd-bfd7-4177-82de-a5a86dcb42fb" />

SLAAC адреса:

<img width="692" height="451" alt="image" src="https://github.com/user-attachments/assets/545c0b16-319c-403d-8fc1-68a775aad663" />

<img width="718" height="452" alt="image" src="https://github.com/user-attachments/assets/b20e7f0a-a8de-4363-a3ec-e04864bc8a26" />



### Часть 3. Проверка сквозного подключения

С PC-A отправьте эхо-запрос на FE80::1. Это локальный адрес канала, назначенный G0/1 на R1.
Отправьте эхо-запрос на интерфейс управления S1 с PC-A.

Введите команду tracert на PC-A, чтобы проверить наличие сквозного подключения к PC-B.
С PC-B отправьте эхо-запрос на PC-A.

С PC-B отправьте эхо-запрос на локальный адрес канала G0/0 на R1.
Примечание.  В случае отсутствия сквозного подключения проверьте, правильно ли указаны IPv6-адреса на всех устройствах.

<img width="464" height="678" alt="image" src="https://github.com/user-attachments/assets/9b9cf295-6872-403c-8228-d0a176232d25" />

<img width="421" height="494" alt="image" src="https://github.com/user-attachments/assets/c21da6c8-b9a5-42d3-8bd3-17d0fe265b51" />

Почему обоим интерфейсам Ethernet на R1 можно назначить одинаковый link-local адрес FE80::1?
Link-local адрес действует только внутри своей локальной сети; интерфейсы R1 находятся в разных подсетях, конфликт невозможен.

Какой идентификатор подсети в адресе 2001:db8:acad::aaaa:1234/64?

Ответ:

<img width="868" height="304" alt="image" src="https://github.com/user-attachments/assets/b9689b20-fbd3-417b-92f8-37b397773372" />

```
Поле ID подсети — это область между префиксом глобальной
маршрутизации и идентификатором интерфейса.

Идентификатор подсети - 0000 (2001:db8:acad:0000)
```
