# Лабораторная работа. Базовая настройка коммутатора

# Топология
<img width="428" height="149" alt="image" src="https://github.com/user-attachments/assets/fe918522-b0d9-4d23-a461-1849b790118b" />


# Таблица адресации

| Устройство | Интерфейс | IP-адрес / префикс |
| --- | --- | --- |
| S1  | VLAN 1 | 192.168.1.2 255.255.255.0 |
| PC-A | NIC | 192.168.1.10 255.255.255.0 |

# Задачи

Часть 1. Проверка конфигурации коммутатора по умолчанию

Часть 2. Создание сети и настройка основных параметров устройства

- Настройте базовые параметры коммутатора.
- Настройте IP-адрес для ПК.

Часть 3. Проверка сетевых подключений

- Отобразите конфигурацию устройства.
- Протестируйте сквозное соединение, отправив эхо-запрос.
- Протестируйте возможности удаленного управления с помощью Telnet.

#### Вопрос:
Почему нужно использовать консольное подключение для первоначальной настройки коммутатора? Почему нельзя подключиться к коммутатору через Telnet или SSH?
#### Ответ:
Консольное подключение нужно для настройки конфигурации коммутатора напрямую от ПК без которой удаленно к нему не подключится, нужно сделать настройку IP, маски, шлюза если это необходимо.

## Проверьте настройки коммутатора по умолчанию.

### Предположим, что коммутатор не имеет файла конфигурации, сохраненного в энергонезависимой памяти (NVRAM). Консольное подключение к коммутатору с помощью Tera Term или другой программы эмуляции терминала предоставит доступ к командной строке пользовательского режима EXEC в виде Switch>. Введите команду **enable**, чтобы войти в привилегированный режим EXEC.

### Введеная команда:
Switch> enable
Switch#

#### Вопросы:
Сколько интерфейсов FastEthernet имеется на коммутаторе 2960?
#### Ответ:
24 интерфейса с interface FastEthernet0/1 по interface FastEthernet0/24
#### Вопросы:
Сколько интерфейсов Gigabit Ethernet имеется на коммутаторе 2960?
#### Ответ:
2 интерфейса
interface GigabitEthernet0/1
interface GigabitEthernet0/2
#### Вопросы:
Каков диапазон значений, отображаемых в vty-линиях?
#### Ответ:
line vty 0 4
line vty 5 15
### Изучите файл загрузочной конфигурации (startup configuration), который содержится в энергонезависимом ОЗУ (NVRAM).
#### Введеная команда:
Switch# show startup-config

startup-config is not present
#### Вопрос:
Почему появляется это сообщение?  
#### Ответ:
Сообщение появляется, потому что в NVRAM нет сохранённого файла конфигурации.

### Изучите характеристики SVI для VLAN 1.

#### Вопросы:
Назначен ли IP-адрес сети VLAN 1?
#### Ответ:
IP-Address указан unassigned
#### Вопросы:
Какой MAC-адрес имеет SVI? Возможны различные варианты ответов.
#### Ответ:
0006.2a62.36b7 (bia 0006.2a62.36b7)
#### Вопросы:
Данный интерфейс включен?
#### Ответ:
Vlan1 unassigned YES manual administratively down down
Выключен
### Изучите IP-свойства интерфейса SVI сети VLAN 1.
#### Вопрос:
Какие выходные данные вы видите?
#### Ответ:
IP не назначен, интерфейс отключён, так как команду no shutdown ещё не вводили и нет активных портов в этой VLAN.
### Подсоедините кабель Ethernet компьютера PC-A к порту 6 на коммутаторе и изучите IP-свойства интерфейса SVI сети VLAN 1. Дождитесь согласования параметров скорости и дуплекса между коммутатором и ПК.

Примечание**. При использовании Netlab включите интерфейс F0/6 на коммутаторе S1.**

#### Вопрос:
Какие выходные данные вы видите?
#### Ответ:
Switch# show ip interface vlan1

Status стал up, Protocol тоже up.
### Изучите сведения о версии ОС Cisco IOS на коммутаторе.
#### Вопросы:
Под управлением какой версии ОС Cisco IOS работает коммутатор?
#### Ответ:
Switch# show version
Версия 15.0(2)SE4
#### Вопросы:
Как называется файл образа системы?
#### Ответ:
flash:c2960-lanbasek9-mz.150-2.SE4.bin
### Изучите свойства по умолчанию интерфейса FastEthernet, который используется компьютером PC-A.
Switch# **show interface f0/6**
#### Вопрос:
Интерфейс включен или выключен?
#### Ответ:
FastEthernet0/6 is up, line protocol is up (connected)
Включен
#### Вопрос:
Что нужно сделать, чтобы включить интерфейс?
#### Ответ:
В случае если интерфейс выключен  
Использовать следующие команды:  
Switch(config)# interface f0/6   
Switch(config-if)# no shutdown
#### Вопрос:
Какой MAC-адрес у интерфейса?
#### Ответ:
0001.4379.1c06
#### Вопрос:
Какие настройки скорости и дуплекса заданы в интерфейсе?
#### Ответ:
Full-duplex, 100Mb/s

###  Изучите флеш-память.

Выполните одну из следующих команд, чтобы изучить содержимое флеш-каталога.

Switch# **show flash**

Switch# **dir flash:**

В конце имени файла указано расширение, например .bin. Каталоги не имеют расширения файла.

#### Вопрос:
Какое имя присвоено образу Cisco IOS?
#### Ответ:
2960-lanbasek9-mz.150-2.SE4.bin

## Настройка базовых параметров сетевых устройств

Во второй части необходимо будет настроить основные параметры коммутатора и компьютера.

### Настройте базовые параметры коммутатора.

####  В режиме глобальной конфигурации скопируйте следующие базовые параметры конфигурации и вставьте их в файл на коммутаторе S1.

no ip domain-lookup

hostname S1

service password-encryption

enable secret class

banner motd #

Unauthorized access is strictly prohibited. #

####  Назначьте IP-адрес интерфейсу SVI на коммутаторе. Благодаря этому вы получите возможность удаленного управления коммутатором.

Прежде чем вы сможете управлять коммутатором S1 удаленно с компьютера PC-A, коммутатору нужно назначить IP-адрес. Согласно конфигурации по умолчанию коммутатором можно управлять через VLAN 1.

####  Доступ через порт консоли также следует ограничить с помощью пароля. Используйте **cisco** в качестве пароля для входа в консоль в этом задании. Конфигурация по умолчанию разрешает все консольные подключения без пароля. Чтобы консольные сообщения не прерывали выполнение команд, используйте параметр **logging synchronous**.

S1(config)# **line con 0**

S1(config-line)# **logging synchronous**

####  Настройте каналы виртуального соединения для удаленного управления (vty), чтобы коммутатор разрешил доступ через Telnet. Если не настроить пароль VTY, будет невозможно подключиться к коммутатору по протоколу Telnet.

#### Вопрос:

Для чего нужна команда **login**?
#### Ответ:
Используется для настройки парольного доступа

### Настройте IP-адрес на компьютере PC-A.

Назначьте компьютеру IP-адрес и маску подсети в соответствии с таблицей адресации.

1.  Перейдите в **Панель управления**. (Control Panel)
2.  В представлении «Категория» выберите « **Просмотр состояния сети и задач**».
3.  Щелкните **Изменение параметров адаптера** на левой панели.
4.  Щелкните правой кнопкой мыши интерфейс **Ethernet** и выберите **«Свойства»** .
5.  Выберите **Протокол Интернета версии 4 (TCP/IPv4)** > **Свойства**.
6.  Выберите **Использовать следующий IP-адрес** и введите IP-адрес и маску подсети и нажмите **ОК**.

## Проверка сетевых подключений

В третьей части лабораторной работы вам предстоит проверить и задокументировать конфигурацию коммутатора, протестировать сквозное соединение между компьютером PC-A и коммутатором S1, а также протестировать возможность удаленного управления коммутатором.

### Отобразите конфигурацию коммутатора.

Используйте консольное подключение на компьютере PC-A для отображения и проверки конфигурации коммутатора. Команда **show run** позволяет постранично отобразить всю текущую конфигурацию. Для пролистывания используйте клавишу пробела.

#### Мой вывод команды:

```
S1#show run

Building configuration...

Current configuration : 1315 bytes

!

version 15.0

no service timestamps log datetime msec

no service timestamps debug datetime msec

service password-encryption

!

hostname S1

!

enable secret 5 $1$mERr$9cTjUIEqNGurQiFU.ZeCi1

!

!

!

no ip domain-lookup

!

!

!

spanning-tree mode pvst

spanning-tree extend system-id

!

interface FastEthernet0/1

!

interface FastEthernet0/2

!

interface FastEthernet0/3

!

interface FastEthernet0/4

!

interface FastEthernet0/5

!

interface FastEthernet0/6

!

interface FastEthernet0/7

!

interface FastEthernet0/8

!

interface FastEthernet0/9

!

interface FastEthernet0/10

!

interface FastEthernet0/11

!

interface FastEthernet0/12

!

interface FastEthernet0/13

!

interface FastEthernet0/14

!

interface FastEthernet0/15

!

interface FastEthernet0/16

!

interface FastEthernet0/17

!

interface FastEthernet0/18

!

interface FastEthernet0/19

!

interface FastEthernet0/20

!

interface FastEthernet0/21

!

interface FastEthernet0/22

!

interface FastEthernet0/23

!

interface FastEthernet0/24

!

interface GigabitEthernet0/1

!

interface GigabitEthernet0/2

!

interface Vlan1

ip address 192.168.1.2 255.255.255.0

!

banner motd ^CUnauthorized access is strictly prohibited^C

!

!

!

line con 0

password 7 0822455D0A16

logging synchronous

login

!

line vty 0 4

password 7 0822455D0A16

login

line vty 5 15

password 7 0822455D0A16

login

!

!

!

!

end
```

#### Проверьте параметры VLAN 1.

S1# **show interface vlan 1**
#### Вопрос:
Какова полоса пропускания этого интерфейса?
####  Ответ:
100000 кбит/с
### Протестируйте сквозное соединение, отправив эхо-запрос.

### В командной строке компьютера PC-A с помощью утилиты ping проверьте связь сначала с адресом PC-A.
### Мой вывод команды:
```
C:\\> **ping 192.168.1.10**

C:\\>ping 192.168.1.10

Pinging 192.168.1.10 with 32 bytes of data:

Reply from 192.168.1.10: bytes=32 time<1ms TTL=128

Reply from 192.168.1.10: bytes=32 time=4ms TTL=128

Reply from 192.168.1.10: bytes=32 time=3ms TTL=128

Reply from 192.168.1.10: bytes=32 time=3ms TTL=128

Ping statistics for 192.168.1.10:

Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),

Approximate round trip times in milli-seconds:

Minimum = 0ms, Maximum = 4ms, Average = 2ms

- - - 1.  Из командной строки компьютера PC-A отправьте эхо-запрос на административный адрес интерфейса SVI коммутатора S1.

C:\\> **ping 192.168.1.2**

Поскольку компьютеру PC-A нужно преобразовать МАС-адрес коммутатора S1 с помощью ARP, время ожидания передачи первого пакета может истечь. Если эхо-запрос не удается, найдите и устраните неполадки базовых настроек устройства. Проверьте как физические кабели, так и логическую адресацию.

C:\\>ping 192.168.1.2

Pinging 192.168.1.2 with 32 bytes of data:

Request timed out.

Reply from 192.168.1.2: bytes=32 time<1ms TTL=255

Reply from 192.168.1.2: bytes=32 time<1ms TTL=255

Reply from 192.168.1.2: bytes=32 time<1ms TTL=255

Ping statistics for 192.168.1.2:

Packets: Sent = 4, Received = 3, Lost = 1 (25% loss),

Approximate round trip times in milli-seconds:

Minimum = 0ms, Maximum = 0ms, Average = 0ms
```

### Проверьте удаленное управление коммутатором S1.

После этого используйте удаленный доступ к устройству с помощью Telnet. В этой лабораторной работе устройства PC-A и S1 расположены рядом. В производственной сети коммутатор может находиться в коммутационном шкафу на последнем этаже, в то время как административный компьютер находится на первом этаже. На данном этапе вам предстоит использовать Telnet для удаленного доступа к коммутатору S1 через его административный адрес SVI. Telnet — это не безопасный протокол, но вы можете использовать его для проверки удаленного доступа. В случае с Telnet вся информация, включая пароли и команды, отправляется через сеанс в незашифрованном виде. В последующих лабораторных работах вы будете использовать протокол SSH для удаленного доступа к сетевым устройствам.

###  Откройте Tera Term или другую программу эмуляции терминала с возможностью Telnet.
            2.  Выберите сервер Telnet и укажите адрес управления SVI для подключения к S1. Пароль: **cisco**.
            3.  После ввода пароля **cisco** вы окажетесь в командной строке пользовательского режима. Для перехода в исполнительский режим EXEC введите команду **enable** и используйте секретный пароль **class**.
            4.  Сохраните конфигурацию.
            5.  Чтобы завершить сеанс Telnet, введите **exit**.
#### Мой вывод команды:
```
C:\\>telnet 192.168.1.2

Trying 192.168.1.2 ...OpenUnauthorized access is strictly prohibited

User Access Verification

Password:

Password:

S1>en

S1>enable

Password:

Password:

S1#copy run start

Destination filename \[startup-config\]?

Building configuration...

\[OK\]

S1#exit

\[Connection to 192.168.1.2 closed by foreign host\]

C:\\>
```
